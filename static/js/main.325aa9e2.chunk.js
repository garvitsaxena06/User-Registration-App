(this["webpackJsonpfirebase-auth"]=this["webpackJsonpfirebase-auth"]||[]).push([[0],{20:function(e,t,a){e.exports=a.p+"static/media/profile.2c6e94aa.png"},22:function(e,t,a){e.exports=a(51)},27:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(18),l=a.n(i),o=(a(27),a(6)),c=a(7),s=a(9),u=a(8),m=a(5),d=a.n(m),f=(a(43),m.initializeApp({apiKey:"AIzaSyCLNjYa-umOtWuy1YVAg6MHJVv5TJ1HYmc",authDomain:"fir-auth-501f0.firebaseapp.com",databaseURL:"https://fir-auth-501f0.firebaseio.com",projectId:"fir-auth-501f0",storageBucket:"fir-auth-501f0.appspot.com",messagingSenderId:"213768066650",appId:"1:213768066650:web:76d5b0a2d0fb165db1aa63",measurementId:"G-J5K92365P9"})),h=m.storage(),p=a(14),g=a(20),E=a.n(g),b=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=function(e){if(e.target.files[0]){var t=e.target.files[0];n.setState({image:t})}},n.handleUpload=function(){try{var e=n.state.image;h.ref("profile-pictures/".concat(e.name)).put(e).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);n.setState({progress:t})}),(function(e){console.log(e)}),(function(){h.ref("profile-pictures").child(e.name).getDownloadURL().then((function(e){n.setState({url:e}),d.a.auth().currentUser.updateProfile({photoURL:n.state.url}).then((function(){console.log("Update successfully!",n.state.url)})).catch((function(e){console.log(e)})),window.location.reload()}))}))}catch(t){console.log(t)}},n.state={isLoading:!0,image:null,url:"",progress:0},n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"bg-profile"},r.a.createElement("div",{className:"container bg-content"},0===this.state.progress?"":r.a.createElement("div",{className:"row"},console.log("uploading"),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("progress",{value:this.state.progress,style:{width:"100%"},max:"100"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3 mt-5"},r.a.createElement("img",{src:this.props.fireDB.auth().currentUser.photoURL||E.a,style:{width:"200px",height:"200px"},alt:"profile"})),r.a.createElement("div",{className:"col-md-9 display-name"},r.a.createElement("h1",null,"Welcome ",r.a.createElement("br",null),this.props.fireDB.auth().currentUser.displayName),this.props.fireDB.auth().currentUser.emailVerified?r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-check-circle",style:{color:"green"}},r.a.createElement("code",{style:{color:"#000",fontFamily:"'Roboto', sans-serif"}},"Verified Account"))):r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-times",style:{color:"red"}},r.a.createElement("text",{style:{color:"#000",fontFamily:"'Roboto', sans-serif"}},"Not Verified Account"))))),r.a.createElement("br",null),this.props.fireDB.auth().currentUser.photoURL?"":r.a.createElement("div",{className:"row d-flex"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement("input",{type:"file",onChange:this.handleChange})),r.a.createElement("div",{className:"ml-auto"},r.a.createElement("button",{className:"btn btn-outline-primary",onClick:this.handleUpload},"Upload Profile Photo"))),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement("button",{className:"btn btn-outline-success",onClick:this.props.logout},"Sign Out"),r.a.createElement("br",null),r.a.createElement("br",null))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement("button",{className:"btn btn-outline-danger",onClick:this.props.delete},"Delete Account"),r.a.createElement("br",null)))))}}]),a}(n.Component),v=a(21),N=a.n(v),y=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={isLoading:!0},n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"bg-img"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4 offset-md-4 panel"},r.a.createElement(N.a,{uiConfig:this.props.uiConfig,firebaseAuth:this.props.fireDB.auth()}))))}}]),a}(n.Component),w=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={isLoading:!0},n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"bg-img"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4 offset-md-4 panel"},r.a.createElement("div",{className:"card d-flex mx-auto",style:{width:"18rem"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Sign-in email verification"),r.a.createElement("br",null),r.a.createElement("p",{className:"card-text"},"A sign-in email with additional instructions will be sent to ",r.a.createElement("b",null,this.props.fireDB.auth().currentUser.email),". Verify your email to complete sign-in."),r.a.createElement("br",null),r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"p-2"},r.a.createElement("button",{className:"back-btn",onClick:this.props.logout},"BACK")),r.a.createElement("div",{className:"ml-auto p-2"},r.a.createElement("button",{className:"verify-btn",onClick:this.props.sendEmailVerification},"VERIFY"))))))))}}]),a}(n.Component),O=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={isSignedIn:!1},e.uiConfig={signInFlow:"popup",credentialHelper:p.auth.CredentialHelper.NONE,signInOptions:[{provider:d.a.auth.EmailAuthProvider.PROVIDER_ID},d.a.auth.GoogleAuthProvider.PROVIDER_ID,d.a.auth.GithubAuthProvider.PROVIDER_ID],callbacks:{signInSuccess:function(){return console.log("Signed In!")}}},e.componentDidMount=function(){f.auth().onAuthStateChanged((function(t){e.setState({isSignedIn:!!t})}))},e.logout=function(){f.auth().signOut()},e.delete=function(){window.confirm("Are you sure to delete this account?")&&f.auth().currentUser.delete().then((function(){console.log("Account deleted")})).catch((function(e){console.log(e),alert("This operation is sensitive and requires recent authentication. Log in again before retrying this request."),f.auth().signOut()}))},e.sendEmailVerification=function(){f.auth().currentUser.sendEmailVerification(),f.auth().signOut(),alert("Email Verification link has been sent!")},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.state.isSignedIn?f.auth().currentUser.emailVerified?r.a.createElement(b,{fireDB:f,logout:this.logout,delete:this.delete}):r.a.createElement(w,{fireDB:f,logout:this.logout,sendEmailVerification:this.sendEmailVerification}):r.a.createElement(y,{fireDB:f,uiConfig:this.uiConfig}))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.325aa9e2.chunk.js.map